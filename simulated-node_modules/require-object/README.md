# require-object

require() local files using an object:

```javascript
const root = require('require-object');
const data = root['some-data.json'];
// This syntax will be aliasable with camelCase and without file extention in the next update.
```

This also removes the need for directory index files.

require-object gets `.js` and `.json` files using
`require` and other files using `fs`. Non-js/json files always
return a buffer So you can read files with a non-utf8 encoding.

Both `node_modules` and `.git` directories are excluded from the
object to reduce load time.

require-object uses getters to reduce memory usage.

## Installation

`npm i require-object`

## Testing

If you wish to test this package, clone
[the repository](https://github.com/jkeveren/require-object)
that includes the pseudo installation that is required for
testing.

## Usage

Example directory structure:
```
.
+-- static
|   +-- js
|   |   +-- example.js
|   +-- css
|       +-- example.css
|       +-- index.html
+-- index.html
+-- index.js
+-- some-data.json
```

Accessing files from project root:
```javascript
const projectDirectory = require('require-object');

/*
projectDirectory ===
	{
		static: {
			js: {
				get 'example.js'() => fs.readFileSync('path/to/example.js')
			},
			css: {
				get 'example.css'() => fs.readFileSync('path/to/example.css')
			}
		}
		get 'index.html'() => fs.readFileSync('path/to/index.html'),
		get 'some-data.json'() => require('some-data.json'),
		get 'index.html'() => require('index.html')
	}
*/
```

Or only require directories that you want access to:
```javascript
const { static } = require('require-object');
// or
const static = require('require-object').static;

/*
static ===
	{
		js: {
			get 'example.js'() => fs.readFileSync('path/to/example.js')
		},
		css: {
			get 'example.css'() => fs.readFileSync('path/to/example.css')
		}
	}
*/
```

Accessing files:
```javascript
/*
I'd probably use a small var name like proj, dir or root because
screw typing projectDirectory every time.
*/
const root = require('require-object');

// At the moment paths are not converted into camelCase.
// This will come in the next update as path aliases (non-breaking).

const data = root['some-data.json'];
// data is now an object containg the cointents of some-data.json

const css = root.static.css['example.css'];
// css is now a buffer of the contents of example.css
```

If you have any suggestions feel free to contact me or submit a
pull request. Contribution is welcome.
